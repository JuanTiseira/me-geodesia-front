<div class="container">

  <h2 *ngIf="resultado" style="font-weight: bold;">Detalle Expediente {{resultado.numero}}/{{resultado.anio}}</h2>

  <br>

  <div class="row">
    <div class="row" *ngIf="resultado">
      <div class="col-6">
        <table class="table table-striped">
          <tbody>
            <tr>
              <th>Número</th>
              <td>{{ resultado.numero }}</td>
            </tr>
            <tr>
              <th>Año</th>
              <td>{{ resultado.anio }}</td>
            </tr>
            <tr>
              <th>Presentacion Numero</th>
              <td>{{ tramite.numero_presentacion }}</td>
            </tr>
            <tr>
              <th>Número de trámite</th>
              <td>{{ tramite.numero }}{{tramite.codigo_verificacion}}</td>
            </tr>
            <tr>
              <th>Abreviatura</th>
              <td>{{ resultado.mensura?.abreviatura }} <span *ngIf="tramite?.tramite_urgente">[(U)]</span></td>
            </tr>
            <tr>
              <th>Mensura</th>
              <td>{{ resultado.mensura?.nombre }}</td>
            </tr>

            <tr>
              <th>Tipo de Expediente</th>
              <td>{{ resultado.tipo_expediente.descripcion }} </td>
            </tr>

            <tr>
              <th>Agrimensor</th>
              <td>{{ resultado.agrimensor.nombre}} {{ resultado.agrimensor.apellido }}</td>
            </tr>

            <tr *ngIf="resultado.gestor != null">
              <th>Gestor</th>
              <td>{{ resultado.gestor.nombre}} {{ resultado.gestor.apellido }}</td>
          </tr>

          <tr *ngIf="resultado.gestor == null">
              <th>Gestor</th>
              <td>---</td>
          </tr>

            <tr>
              <th>Propietario</th>
              <td>{{ resultado.propietario.nombre }} {{ resultado.propietario.apellido }}</td>
            </tr>

            <tr>
              <th>Inmueble</th>
              <td *ngIf="resultado.inmueble">{{ resultado?.inmueble?.municipio?.departamento.codigo }} - {{ resultado?.inmueble?.municipio?.codigo }} - {{
                resultado?.inmueble?.seccion }} - {{ resultado?.inmueble?.chacra }} - {{ resultado?.inmueble?.manzana }} - {{
                resultado.inmueble?.parcela }} - {{ resultado.inmueble?.parcela }}</td>
                <td *ngIf="!resultado.inmueble">---</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-6">
        <table class="table table-striped">
          <tbody>
            <tr>
              <th>Documentos</th>
            </tr>
            <tr *ngFor="let documento of documentosexpediente">
              <td> - {{documento.descripcion}}</td>
            </tr>
            <br>
            <tr>
              <th>Estado: <b *ngIf="resultado.habilitado == true; else inactivo">Activo</b> <ng-template #inactivo><b>Inactivo</b></ng-template></th>
            </tr>
          </tbody>
        </table>
      </div>  

      <div class="row">

        <div class="col-md-6">
          <button type="button" class="btn btn-green btn-block" [ngClass]="{'btn-disabled': !resultado.inmueble}" (click)="imprimirEtiqueta()"
            printSectionId="mytodosItemsId" printTitle="CARATULA" ngxPrint styleSheetFile="/assets/pdf.scss" >Imprimir Solapa 
            <span class="ms-3" data-toggle="tooltip" data-placement="right" title="Imprimir en disposición Horizontal con impresora predeterminada HP">
              <svg id="i-info" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="20" height="20" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
              <path d="M16 14 L16 23 M16 8 L16 10" />
              <circle cx="16" cy="16" r="14" />
              </svg>
            </span>
          </button>
        </div>


        <div class="col-md-6">
          <button type="button" class="btn btn-green btn-block" (click)="imprimirEtiqueta()" printSectionId="Etiqueta"
            ngxPrint styleSheetFile="/assets/etiqueta.scss">Imprimir Etiqueta
            <span class="ms-3"  data-toggle="tooltip" data-placement="right" title="Imprimir con impresora QL-800">
              <svg id="i-info" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="20" height="20" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
              <path d="M16 14 L16 23 M16 8 L16 10" />
              <circle cx="16" cy="16" r="14" />
              </svg>
            </span>
          </button>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <button (click)="verHistorial()" type="button" class="btn btn-green">Ver Historial</button>
        </div>
        <div class="col-md-6">
          <button *ngIf="isEditMode" [disabled]="loading" class="btn btn-green">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Guardar
          </button>


          <button *ngIf="!isEditMode && (isEmpleadoCarga|| isEmpleadoME || isAdmin)" [disabled]="loading" type="button" class="btn btn-green"
            printSectionId="acuse" printTitle="CARATULA" ngxPrint styleSheetFile="/assets/acuse.scss">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Imprimir Constancia
            <span class="ms-3" data-toggle="tooltip" data-placement="right" title="Imprimir en disposición Vertical con impresora predeterminada HP tamaño A4">
              <svg id="i-info" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="20" height="20" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
              <path d="M16 14 L16 23 M16 8 L16 10" />
              <circle cx="16" cy="16" r="14" />
              </svg>
            </span>
          </button>
        </div>
        <div *ngIf="isNumeroAnio && (isAdmin || isEmpleadoME || isEmpleadoCarga); else btnUltimoTramite" class="col-md-12">
          <button type="button" data-bs-toggle="modal" id="btn-edit-user" data-bs-target="#crearDevol"
            class="btn btn-green btn-block">Nueva Presentacion</button>
          <button type="button" data-bs-toggle="modal" id="btn-edit-user" data-bs-target="#crearRetiro"
            class="btn btn-green btn-block">Retiro de Documentos</button>
        </div>
        <ng-template #btnUltimoTramite>
          <div class="col-md-12">
            <button type="button" (click)="verTramite()" class="btn btn-green btn-block">Ir al último trámite</button>
          </div>
        </ng-template>
        
      </div>


    </div>
    <ngx-spinner></ngx-spinner>
  </div>

  <!-- MODAL CREAR RETIRO -->

  <div *ngIf="isAdmin || isEmpleadoME || isEmpleadoCarga" class="modal fade" id="crearRetiro" tabindex="-1" aria-labelledby="crearRetiro"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Registrar Retiro</h5>
          <button id="closeModalRetiroButton" type="button" class="btn-close" data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-12">
              <form class="row g-3" [formGroup]="retiroForm" (ngSubmit)="guardarRetiro()">
                <div class="col-md-12">
                  <div class="form-group">
                    <label for="descripcion" class="form-label">Descripcion *</label>
                    <input formControlName="descripcion" placeholder="Descripcion" type="text" maxlength="50"
                      class="form-control" [ngClass]="{ 'is-invalid': submitted && r.descripcion.errors }">
                    <div *ngIf="submitted && r.descripcion.errors" class="invalid-feedback">
                      <div *ngIf="r.descripcion.errors.required">Este campo es obligatorio</div>
                    </div>
                  </div>

                  <div *ngIf="documentos" class="form-group">
                    <label for="documento" class="form-label">Documentos *</label>
                    <ng-select [multiple]="true" [closeOnSelect]="false" formControlName="documento"
                      [ngClass]="{ 'is-invalid': submitted && r.documento.errors }">
                      <ng-option *ngFor="let doc of documentosexpediente" [value]="doc.id" [disabled]="doc.disabled">
                        {{doc.descripcion}}</ng-option>
                    </ng-select>
                    <div *ngIf="submitted && r.documento.errors" class="invalid-feedback">
                      <div *ngIf="r.documento.errors.required">Este campo es obligatorio</div>
                    </div>
                  </div>

                  <div class="form-group mt-2">
                    <label *ngIf="!busqueda_manual" for="dni" class="form-label">DNI</label>
                    <input *ngIf="!busqueda_manual" (keyup.enter)="leerDni()" formControlName="dni"
                      placeholder="Ingresar o escanear el DNI" type="text" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && !busqueda_manual}">
                    <div *ngIf="submitted && !busqueda_manual" class="invalid-feedback">
                      <div *ngIf="submitted">Este campo es obligatorio</div>
                    </div>

                    <label *ngIf="busqueda_manual" for="usuario" class="form-label">Profesional</label>
                    <div *ngIf="busqueda_manual" class="row">
                      <div class="col-md-10">
                        <ng-select [items]="profesionale$ | async" bindLabel="fullName" bindValue="id" [addTag]="false"
                          [multiple]="false" [hideSelected]="true" [trackByFn]="trackByFn" [minTermLength]="minLengthTerm"
                          [loading]="profesionalLoading" typeToSearchText="Ingresar apellido"
                          [typeahead]="profesionalInput$" formControlName="usuario"
                          [ngClass]="{ 'is-invalid': submitted && busqueda_manual}">
                        </ng-select>
                        <div *ngIf="submitted && busqueda_manual" class="invalid-feedback">
                          <div *ngIf="submitted">Este campo es obligatorio</div>
                        </div>
                      </div>

                      <div class="col-md-2">
                        <button type="button" data-bs-toggle="modal" id="btn-edit-user" data-bs-target="#crearUsuario"
                          class="btn btn-green btn-agregar">+</button>
                      </div>
                    </div>



                    <!-- Crear Usuario -->
                    <div *ngIf="busqueda_manual" class="modal fade" id="crearUsuario" tabindex="-1"
                      aria-labelledby="crearUsuario" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title">Ingresar Registro</h5>
                            <button id="closeModalButton" type="button" class="btn-close" data-bs-dismiss="modal"
                              aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <app-crear-usuario (verDetallesFunction)="verDetallesUsuarios($event)"></app-crear-usuario>
                          </div>
                        </div>
                      </div>
                    </div>

                    <label class="me-2" for="">Búsqueda manual </label>
                    <input #busquedamanualCheckBox id="busquedamanualCheckBox" type="checkbox"
                      [checked]="busqueda_manual" (change)="onbusquedamanualChanged(busquedamanualCheckBox.checked)" />
                  </div>


                  <div *ngIf="usuario" class="col-12">
                    <table class="table table-striped">

                      <tbody>
                        <tr>
                          <th>Nombre</th>
                          <td>{{ usuario.nombre }}</td>
                        </tr>
                        <tr>
                          <th>Apellido</th>
                          <td>{{ usuario.apellido }}</td>
                        </tr>

                        <tr>
                          <th>Fecha de Nacimiento</th>
                          <td>{{ usuario.fecha_nacimiento }}</td>
                        </tr>

                        <tr>
                          <th>Matricula</th>
                          <td>{{ usuario.matricula }} </td>
                        </tr>

                        <tr>
                          <th>Teléfono</th>
                          <td>{{ usuario.telefono}}</td>
                        </tr>

                        <tr>
                          <th>Email</th>
                          <td>{{ usuario.email }} </td>
                        </tr>

                        <tr>
                          <th>Dirección</th>
                          <td>{{ usuario.direccion }}</td>
                        </tr>

                        <tr>
                          <th>Dni</th>
                          <td>{{ usuario.dni }}</td>
                        </tr>




                      </tbody>
                    </table>



                  </div>
                </div>


                <div class="col-md-12">
                  <div class="row">
                    <div class="col-12">
                      <button type="button" class="btn btn-green" (click)="cancelarRetiro()" data-bs-dismiss="modal"
                        aria-label="Close">Cancelar</button>

                      <button type="button" (click)="guardarRetiro()" [disabled]="loading" class="btn btn-green">
                        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                        Guardar
                      </button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>


  <!-- MODAL CREAR DEVOLUCION -->

  <div *ngIf="isAdmin || isEmpleadoME || isEmpleadoCarga" class="modal fade" id="crearDevol" tabindex="-1" aria-labelledby="crearDevol" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Registrar Nueva Presentación</h5>
          <button id="closeModalDevolButton" type="button" class="btn-close" data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-12">
              <form class="row g-3" [formGroup]="devolForm" (ngSubmit)="guardarDevol()">
                <div class="col-md-12">
                  <div class="form-group">
                    <label for="tramite_urgente" class="form-label">Tramite Urgente</label>
                    <input type="checkbox" formControlName="tramite_urgente">
                  </div>

                  <div *ngIf="documentos" class="form-group">
                    <label for="documentos" class="form-label">Documentos *</label>
                    <ng-select [multiple]="true" [closeOnSelect]="false" formControlName="documentos"
                      [ngClass]="{ 'is-invalid': submitted && d.documentos.errors }">
                      <ng-option *ngFor="let doc of documentos.results" [value]="doc.id" [disabled]="doc.disabled">
                        {{doc.descripcion}}</ng-option>
                    </ng-select>
                    <div *ngIf="submitted && d.documentos.errors" class="invalid-feedback">
                      <div *ngIf="d.documentos.errors.required">Este campo es obligatorio</div>
                    </div>
                  </div>


                </div>


                <div class="col-md-12">
                  <div class="row">
                    <div class="col-12">
                      <button type="button" class="btn btn-green" (click)="limpiar(devolForm)" data-bs-dismiss="modal"
                        aria-label="Close">Cancelar</button>

                      <button type="button" id="btn-guardar-devolver" (click)="guardarDevol()" [disabled]="loading"
                        class="btn btn-green">
                        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                        Guardar
                      </button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  <!-- SOLAPA HTML -->
  <div hidden *ngIf="resultado?.inmueble">
    <div id="mytodosItemsId">
      <h1 style="text-align: center; font-size: 20px; font-weight: 100;">PROVINCIA DE MISIONES</h1>
      <h2 style="font-weight: bold; text-align: center;">Ministerio de Gobierno</h2>
      <h2 style="font-weight: bold; text-align: center;">Subsecretaria de Gob. y Asuntos Registrales</h2>
      <table class="table table-bordered" style="width:100%; margin-top: 0px; border:1px solid black;">
        <tr>
          <th>
            <h1 style="text-align: center; font-size: 25px; font-weight: 900;">DIRECCION GENERAL DE CATASTRO</h1>
          </th>
        </tr>
      </table>
      <div class="row">
        <div *ngIf="resultado">
          <span>Expediente Nº &nbsp;&nbsp;</span>
          <input type="text" name="" id="" value="9945" style="margin-left: 20px;">
          <input type="text" name="" id="" value="{{tramite.expediente.numero}}" style="margin-left: 20px;">
          <input type="text" name="" id="" value="{{resultado.anio}}" style="margin-left: 20px;">
          <input type="text" name="" id="" value="" style="margin-left: 20px;">
          <input type="text" name="" id="" value="{{fecha_creacion}}" style="margin-left: 20px;">
        </div>
      </div>

      <div class="row">

        <div style="margin-left:100px;">
          <label for="" style="margin-left:10px;">Codigo de Organismo</label>&nbsp;&nbsp;&nbsp;
          <label for="" style="margin-left:1px;">Nº Correlativo</label> &nbsp;&nbsp;&nbsp;
          <label for="" style="margin-left:15px;">Año</label> &nbsp;&nbsp;&nbsp;
          <label for="" style="margin-left: 40px;">Cuerpo Nº</label>
          <label for="" style="margin-left:65px;">Fecha</label> &nbsp;&nbsp;&nbsp;
        </div>

      </div>

      <div class="row">
        <div class="col-md-2">
          <span>Corresponde Nº</span>
          <input type="text" name="" id="" value="" style="margin-left: 20px;">
          <input type="text" name="" id="" value="" style="margin-left: 20px;">
          <input type="text" name="" id="" value="" style="margin-left: 20px;">
          <input type="text" name="" id="" value="" style="margin-left: 20px;">
          <input type="text" name="" id="" value="" style="margin-left: 20px;">
        </div>
      </div>

      <table class="table table-bordered" style="width:100%; border:1px solid black;" *ngIf="resultado">
        <tr>
          <th style="text-align: left;" *ngIf="resultado.gestor != null">Iniciador: {{resultado.gestor.nombre |
            uppercase }} {{resultado.gestor.apellido | uppercase }}</th>
          <th style="text-align: left;" *ngIf="resultado.gestor == null">Iniciador: {{resultado.agrimensor.nombre |
            uppercase }} {{resultado.agrimensor.apellido | uppercase }}</th>
        </tr>
        <tr>
          <td style="text-align: right;"><strong>{{resultado.abreviatura}}}</strong> </td>
        </tr>
        <tr>
          <td style="text-align: left;">Asunto: APROBACION DE MENSURA DE</td>
        </tr>
        <tr>
          <td style="text-align: center; font-weight: 900;">{{resultado.propietario.nombre | uppercase }}
            {{resultado.propietario.apellido | uppercase }} </td>
        </tr>
        <tr>
          &nbsp;
          &nbsp;
          <td style="text-align: center;">
            {{resultado.inmueble.municipio.departamento.descripcion}} -
            {{resultado.inmueble.municipio.descripcion}} -
            chacra {{resultado.inmueble.chacra}} -
            Manzana {{resultado.inmueble.manzana}} -
            Lote {{resultado.inmueble.parcela}}
          </td>
          &nbsp;
          &nbsp;
        </tr>
      </table>

      <table class="table " style="width:100%; margin-top: 20px; border:1px solid black;">
        <th>Expedientes Agregados</th>
        <th>Codigo Organismo</th>
        <th>Nº Correlativo</th>
        <th>Año</th>
        <th>Fecha Agregacion</th>
        <th>Fecha Desglose</th>
        <th>F º</th>
        <tbody>
          <tr>

            <td style="padding: 15px; border-left: 1px dotted #a0a0a0;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>

          </tr>
          <tr>

            <td style="padding: 15px; border-left: 1px dotted #a0a0a0;"></td>
            <td style="border-left: 2px solid #000000;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>

          </tr>
          <tr>

            <td style="padding: 15px; border-left: 1px dotted #a0a0a0;"></td>

            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>

          </tr>
          <tr>
            <td style="padding: 15px; border-left: 1px dotted #a0a0a0;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
          </tr>
        </tbody>

      </table>

      <table class="table table-bordered" style="width:100%; margin-top: 20px; border:1px solid black;">
        <th>Archivado en</th>
        <th>Reparticion de Origen</th>
        <th>Archivo Intermedio</th>
        <th>Archivo Central</th>
        <th>Termino</th>
        <tbody>
          <tr>
            <td style="padding: 15px; border-left: 1px dotted #a0a0a0;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
            <td style="border-left: 2px solid black;"></td>
          </tr>
        </tbody>
      </table>


    </div>
  </div>


  <!-- ETIQUETA HTML -->
  <div *ngIf="tramite" hidden>

    <div id="Etiqueta">

      <table>
        <tr>
          <th>
            <h2 style="text-decoration: underline; text-align: left; font-size: 8px;">Direccion General de Catastro</h2>
          </th>

          <th>
            <img src="../../../../../../assets/escudo.png" alt="" width="20" height="18">
          </th>
        </tr>
      </table>
      <!--  -->
      <table>
        <tr>
          <th style="text-align: left">
            <ngx-barcode *ngFor="let bcValue of values" [bc-element-type]="elementType" [bc-value]="bcValue"
              [bc-format]="format" [bc-line-color]="lineColor" [bc-width]="width" [bc-height]="height"
              [bc-display-value]="displayValue" [bc-font-options]="fontOptions" [bc-font]="font"
              [bc-text-align]="textAlign" [bc-text-position]="textPosition" [bc-text-margin]="textMargin"
              [bc-font-size]="fontSize" [bc-background]="background" [bc-margin]="margin" [bc-margin-top]="marginTop"
              [bc-margin-bottom]="marginBottom" [bc-margin-left]="marginLeft" [bc-margin-right]="marginRight">
            </ngx-barcode> <br>

            Tramite: {{tramite.numero}}{{tramite.codigo_verificacion}} <br>
            Expte: {{resultado.numero}} {{ resultado.anio }} <br>
            Pres: {{ fecha_creacion }} <br>
          </th>

          <th style="font-weight: normal; font-size: 7.5px;">
            <b>Tipo:</b> {{ resultado.abreviatura }} <br>
            <b> Prof:</b> {{fullName(resultado.agrimensor.nombre , resultado.agrimensor.apellido )}} <br>
            {{ resultado.agrimensor.dni }} <br>
            <b>Tit:</b> {{fullName(resultado.propietario.nombre , resultado.propietario.apellido )}} <br>
            {{ resultado.propietario.cuit }} <br>
            <b>Usuario de Impresion:</b> <br>
            {{user}} <br>
            {{date}} {{fecha_hora}} <br>
          </th>
        </tr>
        <tr>
          <td>

          </td>
        </tr>
      </table>
    </div>
  </div>


  <!-- ACUSE DE RECIBO -->

  <div *ngIf="(isEmpleadoME || isAdmin || isEmpleadoCarga) && resultado" hidden>
    <div id="acuse">
      <table style="width:100%">
        <tr>

          <th style="text-align: center;"> <img src="assets/escudo.png" alt="Escudo misiones" width="60px"> </th>
          <th style="text-align: center; max-width: 500px; padding-top: 50px; padding-left: 30px; font-style: italic;">
            “Año 2021 - Año de la Prevención y Lucha contra
            el COVID-19, Dengue y demás Enfermedades
            Infectocontagiosas, contra la Violencia por motivos
            de Género en todas sus formas, del Bicentenario del
            Fallecimiento del General Martín Miguel de
            Güemes y de la Transición de la Década de Acción
            de los Objetivos de Desarrollo Sostenible”.</th>
        </tr>
        <tr>
          <th style="text-align: center; font-weight: 900; font-size: 10px;">PROVINCIA DE MISIONES</th>
        </tr>
        <br>
        <tr>
          <th style="text-align: center;  font-weight: 900; font-size: 8px; padding: 1px;">DIRECCION GENERAL DE CATASTRO
          </th>
        </tr>

      </table>

      <h2 style="text-align: center; font-weight: 900; margin-top: 50px; font-size: 20px;">MESA DE ENTRADA Y SALIDAS
      </h2>
      <h2 style="text-align: center; font-weight: 900;  margin-top: 20px; font-size: 18px;">Departamento de Geodesia y
        Cartografia</h2>

      <p>
        Por la presente, se deja constancia que el <b>TRAMITE N° {{tramite?.numero}}{{tramite?.codigo_verificacion}}</b> del <b>Tipo
          {{resultado?.abreviatura}} </b> INICIADO EN FECHA <b>{{tramite?.created_at | date}}</b> ,
        <b>Expediente N° {{resultado?.numero}} - {{resultado?.anio}} </b>
        en la <b>Presentacion {{tramite?.numero_presentacion}}</b> se ha recibido con la siguiente
        documentacion:
      </p>

      <table style="border: 1px solid black;  width: 100%;">
        <tr>
          <th style="border-bottom: 1px solid black; background-color: rgb(216, 216, 216);">
            Documentacion Presentada
          </th>
        </tr>

        <tr *ngFor="let doc of resultado?.documentos">
          <td>
            {{doc.descripcion}}
          </td>
        </tr>

      </table>


      <h4 style="margin-top: 50px;"> Presentado por: </h4>

      <li *ngIf="resultado?.gestor"> {{resultado?.gestor.nombre}} {{resultado?.gestor.apellido}}</li>
      <li *ngIf="resultado?.gestor">D.N.I: {{resultado?.gestor.dni}}</li>

      <li *ngIf="!resultado?.gestor"> {{resultado?.agrimensor.nombre}} {{resultado?.agrimensor.apellido}}</li>
      <li *ngIf="!resultado?.gestor">D.N.I: {{resultado?.agrimensor.dni}}</li>



      <h4 style="margin-top: 10px;">Profesional Solicitante:</h4>

      <li>AGRIM. {{resultado?.agrimensor.nombre}} {{resultado?.agrimensor.apellido}}</li>
      <li>Matricula: {{resultado?.agrimensor.matricula}}</li>
      <li>D.N.I: {{resultado?.agrimensor.dni}}</li>
      
      <p style="text-align: right;">
        <img src="assets/firma.jpg" alt="Escudo misiones" class="img-responsive" width="30%"><br>
        Nombre Directora<br>
        Director General de Catastro
      </p>
      <p style="position: absolute;
    bottom: 10px; font-size: 8px;">
        Usuario Impresion: {{user}} <br>
        Fecha de Impresion: {{date}} {{fecha_hora}} <br>
      </p>
    </div>
  </div>

  <swal #mensajeSwal title icon confirmButtonText cancelButtonText showCancelButton cancelButtonColor confirmButtonColor
    confirm></swal>